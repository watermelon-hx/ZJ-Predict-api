package io.renren.common.utils;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;

public class FileUtil {
    public static void hexToFile(String hex, String filePath) throws IOException {

        if (hex == null || ("").equals(hex)) {
            return;
        }
        FileOutputStream outputStream = new FileOutputStream(filePath);
        byte[] bytes = hex.getBytes();
        for (int i = 0; i < bytes.length; i += 2) {
            outputStream.write(charToInt(bytes[i]) * 16 + charToInt(bytes[i + 1]));
        }
        outputStream.close();



   /*     StringBuilder sb = new StringBuilder();
        sb.append(hex);
        saveToFile(sb.toString().toUpperCase(), filePath);*/
    }


    /**
     * hex 转为文件
     *
     * @param src
     * @param output
     */
    public static void saveToFile(String src, String output) {
        if (src == null || src.length() == 0) {
            return;
        }
        try {
         /*   File outFile = new File(output);
            if(!outFile.exists()){
                outFile.mkdirs();
            }*/
            FileOutputStream out = new FileOutputStream(output);
            byte[] bytes = src.getBytes();
            for (int i = 0; i < bytes.length; i += 2) {
                out.write(charToInt(bytes[i]) * 16 + charToInt(bytes[i + 1]));
            }
            out.close();
        } catch (Exception e) {
            e.printStackTrace();
        }finally {

        }
    }

    private static int charToInt(byte ch) {
        int val = 0;
        if (ch >= 0x30 && ch <= 0x39) {
            val = ch - 0x30;
        } else if (ch >= 0x41 && ch <= 0x46) {
            val = ch - 0x41 + 10;
        }
        return val;
    }

    public static void main(String[] args) {

 /*       String src = "FFD8FFE000104A46494600010200000100010000FFFE00104C61766335382E33352E31303000FFDB0043000804040404040505050505050606060606060606060606060607070708080807070706060707080808080909090808080809090A0A0A0C0C0B0B0E0E0E111114FFC400D000000203010101010000000000000000000403020105060007080101010101010100000000000000000000000102030405100001030301050308040A06040708071902030401000512111322322106421431335241627251230715619282937383A2A35371632443348116B2B3C39125D3C2847444D25408359417A4A1E36436B4B1D426F075E2D5C4E4C6D1C5D6E14595B5463837555657C1F266278518A565F3110101010001040300010304020301000300021203321122011304421452053353231543627206216331242534FFC00011080438078003012200021100031100FFDA000C03010002110311003F00C1BAB959F74774D256D7D2D546EE1C6A70964243E67C44AB3DBA7D488BA625F4D41CF784B4D5A2238EFF009FB2ADE84E0BE5D23A46F2574F1F37D4ACC2D324274E62A817E7D5994FD8CEADB226DBA817EFA70FDC2A802A4B2838910F603E1D11D2F6AB6974D750E8D8368860A84F9BEBD13D7787D38CCF9C4296F09D7CEAF748E9DC3A951F44B4CF4F3B00A7E53B93D105A752DB675F290A8EBF72B39E8EC96B8869A483A71FDFA33A44B677EB2947A55C7ED850D7D8C6E7791F73A711AD069F5A4EAF2CC71A44A9694B59F3B7382BCCD337F6AB634876BA08AEE0C554D32012210033DCF5E97D5D312874A2DACE8A5AB1F5772BD6AB7ACF2D6C9F36772DD5B63ADBEBA65B4CC30DCAE74DCA09292B08E46A2851BBAA9BC58879F573E3A6418FD63C55572996AF6440620652138F68F8E95B4398928F091D399549AD21D1A4C46B318C8FD9AAD6239C446B1EEA4C287233123AE9BDCA6AE161CA623C30F4D6BB82EDEAA883F4974B0CD30338CF8696CAE2EAE6DAE9DE504DB9F7533180332CB7EA36E550FA51A24AC840A87A1E7C38FAF46C5AEDEC52B8F728D0241C251A1ED071F52A7EBC973E04B49F8BD2C51FA9701AD4194E9696FCFC9DFCB97AA756D4A210E9553D30BB80A5A33316B7DFBABE245C5C3BF5B64D399018FAAF6A8947B6154CA77EDD1AF2856E01F995273A60F39F34EEEDF1D3D70AA631A38651EEB8B80FB6149445D4E8C0A6679430B79691FF0018C2BA1E971510EFA82AB4A6980E60196422275CEAB1ADACE4B5D22D47FA1775D258E1559EBC001D67BBA53F7700AB3D6DFAE86B34D9ED2241E049F0C04A47BD4F514CA224F409E128A1534DCA2705089CCF6741A6892C49C4280A44F6A78B2AE9EDCCB73849C4CE1A7BE872D26235F0CBC28B24B5E582B118EECC06434A368BE91A449E9EAD594CBC92CCC1331038CF202D";
        String out = "D:/2022-03-09_09-37-07.jpg";
        saveToFile(src,out);*/
        File dir = new File("D:/Data-Jpeg/KX-V22P40-AI00011");
        if (!dir.exists()) {// 判断目录是否存在
            dir.mkdirs();
        }

    }
}